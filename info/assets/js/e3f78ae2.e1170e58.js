"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9590],{28453:(s,e,a)=>{a.d(e,{R:()=>r,x:()=>t});var n=a(96540);const i={},l=n.createContext(i);function r(s){const e=n.useContext(l);return n.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function t(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(i):s.components||i:r(s.components),n.createElement(l.Provider,{value:e},s.children)}},96878:(s,e,a)=>{a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>m});const n=JSON.parse('{"id":"reference/react/pages/Editor/index","title":"Editor Page","description":"Interactive SVG editor page with pan/zoom and a \u201ccolor reveal\u201d mode for inspecting generated SVG regions.","source":"@site/docs/reference/react/pages/Editor/index.md","sourceDirName":"reference/react/pages/Editor","slug":"/reference/react/pages/Editor/","permalink":"/Img2Num/info/docs/reference/react/pages/Editor/","draft":false,"unlisted":false,"editUrl":"https://github.com/Ryan-Millard/Img2Num/edit/main/docs/docs/reference/react/pages/Editor/index.md","tags":[],"version":"current","frontMatter":{"title":"Editor Page","description":"Interactive SVG editor page with pan/zoom and a \u201ccolor reveal\u201d mode for inspecting generated SVG regions.","keywords":["editor","svg","pan","zoom","pinch","pointer events","react-router","Img2Num"],"sidebar_label":"Editor"},"sidebar":"tutorialSidebar","previous":{"title":"Pages","permalink":"/Img2Num/info/docs/reference/react/pages/overview"},"next":{"title":"Tests","permalink":"/Img2Num/info/docs/reference/react/pages/Editor/tests"}}');var i=a(74848),l=a(28453);const r={title:"Editor Page",description:"Interactive SVG editor page with pan/zoom and a \u201ccolor reveal\u201d mode for inspecting generated SVG regions.",keywords:["editor","svg","pan","zoom","pinch","pointer events","react-router","Img2Num"],sidebar_label:"Editor"},t=void 0,c={},m=[{value:"Overview",id:"overview",level:2},{value:"Where things live",id:"where-things-live",level:2},{value:"Routing + data flow",id:"routing--data-flow",level:2},{value:"Mental model",id:"mental-model",level:2},{value:"Core state + refs",id:"core-state--refs",level:2},{value:"Interactions",id:"interactions",level:2},{value:"Key classes",id:"key-classes",level:2},{value:"Styling and selectors",id:"styling-and-selectors",level:2},{value:"Helmet",id:"helmet",level:2},{value:"Troubleshooting quick hits",id:"troubleshooting-quick-hits",level:2},{value:"Tests and docs",id:"tests-and-docs",level:2}];function d(s){const e={a:"a",annotation:"annotation",code:"code",h2:"h2",li:"li",math:"math",mi:"mi",mo:"mo",mrow:"mrow",mspace:"mspace",msub:"msub",semantics:"semantics",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Interactive SVG viewer that supports pan, zoom (wheel/pinch), and a one-way \u201creveal color\u201d mode; preview mode disables interaction but keeps revealed regions visible."}),"\n",(0,i.jsxs)(e.li,{children:["Reached at ",(0,i.jsx)(e.code,{children:"/editor"})," with an SVG string passed via navigation state (",(0,i.jsx)(e.code,{children:"navigate('/editor', { state: { svg } })"}),"); if missing, the page shows \u201cNo SVG data found.\u201d"]}),"\n",(0,i.jsxs)(e.li,{children:["Layout: outer GlassCard with a top-right mode switch; inner viewport applies translate + scale to a wrapper while the SVG is parsed by ",(0,i.jsx)(e.code,{children:"html-react-parser"}),"."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"where-things-live",children:"Where things live"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Page: ",(0,i.jsx)(e.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/src/pages/Editor/index.jsx",children:"src/pages/Editor/index.jsx"})]}),"\n",(0,i.jsxs)(e.li,{children:["Helmet: ",(0,i.jsx)(e.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/src/pages/Editor/EditorHelmet.jsx",children:"src/pages/Editor/EditorHelmet.jsx"})]}),"\n",(0,i.jsxs)(e.li,{children:["Styles: ",(0,i.jsx)(e.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/src/pages/Editor/Editor.module.css",children:"src/pages/Editor/Editor.module.css"})]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"routing--data-flow",children:"Routing + data flow"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Route: ",(0,i.jsx)(e.code,{children:"/editor"})," via ",(0,i.jsx)(e.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/src/App.jsx",children:"src/App.jsx"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["Entry: ",(0,i.jsx)(e.code,{children:"navigate('/editor', { state: { svg } });"})," from the pipeline end (",(0,i.jsx)(e.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/src/components/WasmImageProcessor.jsx",children:"src/components/WasmImageProcessor.jsx"}),")."]}),"\n",(0,i.jsxs)(e.li,{children:["No ",(0,i.jsx)(e.code,{children:"svg"})," in navigation state \u2192 render the \u201cNo SVG data found\u201d empty state."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"mental-model",children:"Mental model"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Layout: outer ",(0,i.jsx)(e.code,{children:"GlassCard"})," wrapper; top-right ",(0,i.jsx)(e.code,{children:"GlassSwitch"})," toggles Color vs Preview."]}),"\n",(0,i.jsxs)(e.li,{children:["Viewport: inner ",(0,i.jsx)(e.code,{children:"GlassCard"})," captures pointer + wheel; ",(0,i.jsx)(e.code,{children:"div.inner"})," carries ",(0,i.jsx)(e.code,{children:"translate + scale"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["Rendering: SVG string \u2192 React elements via ",(0,i.jsx)(e.code,{children:"html-react-parser"}),"; transform sits on the wrapper, not the ",(0,i.jsx)(e.code,{children:"<svg>"}),"."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"core-state--refs",children:"Core state + refs"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"isColorMode"}),": true = reveal-on-tap; false = preview (interaction off, reveal state kept)."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"transform { scale, tx, ty }"}),": clamp scale ",(0,i.jsx)(e.code,{children:"[0.25, 6]"}),"; apply ",(0,i.jsx)(e.code,{children:"translate(${tx}px, ${ty}px) scale(${scale})"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["Refs: ",(0,i.jsx)(e.code,{children:"viewportRef"})," (captures + pointer lock), ",(0,i.jsx)(e.code,{children:"innerRef"})," (locate ",(0,i.jsx)(e.code,{children:"<svg>"}),"), ",(0,i.jsx)(e.code,{children:"activePointersRef"})," (multi-touch map), ",(0,i.jsx)(e.code,{children:"pinchRef"})," (pinch anchor data)."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"interactions",children:"Interactions"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Wheel zoom: step ",(0,i.jsx)(e.code,{children:"1.12"}),", clamp to ",(0,i.jsx)(e.code,{children:"[0.25, 6]"}),"."]}),"\n",(0,i.jsx)(e.li,{children:"Pan: one active pointer; movement must exceed ~5px before treating as drag."}),"\n",(0,i.jsxs)(e.li,{children:["Pinch: two pointers; keeps midpoint fixed by anchoring the content point beneath it:\n",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"n"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mi,{children:"T"}),(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"m"}),(0,i.jsx)(e.mi,{children:"x"})]}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"c"}),(0,i.jsx)(e.mi,{children:"x"})]}),(0,i.jsx)(e.mo,{children:"\u22c5"}),(0,i.jsx)(e.mi,{children:"n"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mi,{children:"S"}),(0,i.jsx)(e.mi,{children:"c"}),(0,i.jsx)(e.mi,{children:"a"}),(0,i.jsx)(e.mi,{children:"l"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsx)(e.mspace,{width:"1em"}),(0,i.jsx)(e.mi,{children:"n"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mi,{children:"T"}),(0,i.jsx)(e.mi,{children:"y"}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"m"}),(0,i.jsx)(e.mi,{children:"y"})]}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"c"}),(0,i.jsx)(e.mi,{children:"y"})]}),(0,i.jsx)(e.mo,{children:"\u22c5"}),(0,i.jsx)(e.mi,{children:"n"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mi,{children:"S"}),(0,i.jsx)(e.mi,{children:"c"}),(0,i.jsx)(e.mi,{children:"a"}),(0,i.jsx)(e.mi,{children:"l"}),(0,i.jsx)(e.mi,{children:"e"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"nextTx = m_x - c_x \\cdot nextScale, \\quad nextTy = m_y - c_y \\cdot nextScale"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"tT"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.7333em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"x"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.5945em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"x"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"\u22c5"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"tS"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"a"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"1em"}}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"tT"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8694em",verticalAlign:"-0.2861em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"y"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.7306em",verticalAlign:"-0.2861em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"y"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"\u22c5"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"tS"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"a"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})]})]}),"\nwhere ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"m"}),(0,i.jsx)(e.mi,{children:"x"})]}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"m"}),(0,i.jsx)(e.mi,{children:"y"})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"(m_x, m_y)"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.0361em",verticalAlign:"-0.2861em"}}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"x"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"y"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})})]})," is the screen midpoint and ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"c"}),(0,i.jsx)(e.mi,{children:"x"})]}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"c"}),(0,i.jsx)(e.mi,{children:"y"})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"(c_x, c_y)"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.0361em",verticalAlign:"-0.2861em"}}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"x"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"y"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})})]})," is the content point under it at pinch start."]}),"\n",(0,i.jsxs)(e.li,{children:["Tap-to-reveal (Color mode only): on pointer up with no drag, ",(0,i.jsx)(e.code,{children:"elementFromPoint(...).closest(SHAPE_SELECTOR)"})," then add ",(0,i.jsx)(e.code,{children:"styles.coloredRegion"})," (one-way reveal, no toggle-off)."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"key-classes",children:"Key classes"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Class"}),(0,i.jsx)(e.th,{children:"Purpose"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"viewport"})}),(0,i.jsxs)(e.td,{children:["Clipped interaction surface; ",(0,i.jsx)(e.code,{children:"touch-action: none"})," for consistent pointer handling"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"inner"})}),(0,i.jsxs)(e.td,{children:["Transform wrapper (",(0,i.jsx)(e.code,{children:"translate + scale"}),"); uses ",(0,i.jsx)(e.code,{children:"will-change: transform"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"grabbing"})}),(0,i.jsx)(e.td,{children:"Applied during drag to show a grabbing cursor"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"colorMode"})}),(0,i.jsx)(e.td,{children:"Applied on the outer card when color mode is active"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"previewMode"})}),(0,i.jsx)(e.td,{children:"Applied on the outer card when preview mode is active"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"coloredRegion"})}),(0,i.jsx)(e.td,{children:"Added on shapes to reveal original fills"})]})]})]}),"\n",(0,i.jsx)(e.h2,{id:"styling-and-selectors",children:"Styling and selectors"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"SHAPE_SELECTOR = 'path,rect,circle,polygon,ellipse'"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["Color mode: primitives without ",(0,i.jsx)(e.code,{children:".coloredRegion"})," are forced to white; adding ",(0,i.jsx)(e.code,{children:".coloredRegion"})," restores original fill."]}),"\n",(0,i.jsxs)(e.li,{children:["Preview mode: common primitives get ",(0,i.jsx)(e.code,{children:"pointer-events: none"})," so current reveal state is view-only."]}),"\n",(0,i.jsxs)(e.li,{children:["Adding new SVG primitives: update ",(0,i.jsx)(e.code,{children:"SHAPE_SELECTOR"})," and mirror rules in ",(0,i.jsx)(e.code,{children:"Editor.module.css"})," (color override + preview pointer-events)."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"helmet",children:"Helmet"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Non-indexable workspace view: ",(0,i.jsx)(e.code,{children:'<meta name="robots" content="noindex, nofollow" />'})," plus title/description and canonical in ",(0,i.jsx)(e.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/src/pages/Editor/EditorHelmet.jsx",children:"EditorHelmet.jsx"}),"."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"troubleshooting-quick-hits",children:"Troubleshooting quick hits"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u201cTap\u201d doesn\u2019t reveal: ensure pointer movement stayed under the drag threshold and you are in Color mode."}),"\n",(0,i.jsxs)(e.li,{children:["Zoom feels jumpy: check scale clamps and the fixed wheel step (",(0,i.jsx)(e.code,{children:"1.12"}),")."]}),"\n",(0,i.jsx)(e.li,{children:"Pinch drifts: confirm midpoint math uses the content point captured at gesture start."}),"\n",(0,i.jsxs)(e.li,{children:["Shapes not affected: verify the element tag is in ",(0,i.jsx)(e.code,{children:"SHAPE_SELECTOR"})," and CSS selectors cover it."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"tests-and-docs",children:"Tests and docs"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Behavior coverage: ",(0,i.jsx)(e.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/src/pages/Editor/Editor.test.jsx",children:"src/pages/Editor/Editor.test.jsx"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["Helmet: ",(0,i.jsx)(e.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/src/pages/Editor/EditorHelmet.test.jsx",children:"src/pages/Editor/EditorHelmet.test.jsx"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["Extra guidance: ",(0,i.jsx)(e.a,{href:"./tests",children:"docs/docs/reference/pages/Editor/tests.md"}),"."]}),"\n"]})]})}function h(s={}){const{wrapper:e}={...(0,l.R)(),...s.components};return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(d,{...s})}):d(s)}}}]);