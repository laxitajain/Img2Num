"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1402],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var s=t(96540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}},79473:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"reference/react/hooks/useTheme/index","title":"useTheme Hook","description":"What this hook provides:","source":"@site/docs/reference/react/hooks/useTheme/index.md","sourceDirName":"reference/react/hooks/useTheme","slug":"/reference/react/hooks/useTheme/","permalink":"/Img2Num/info/docs/reference/react/hooks/useTheme/","draft":false,"unlisted":false,"editUrl":"https://github.com/Ryan-Millard/Img2Num/edit/main/docs/docs/reference/react/hooks/useTheme/index.md","tags":[],"version":"current","frontMatter":{"title":"useTheme Hook","sidebar_label":"useTheme"},"sidebar":"tutorialSidebar","previous":{"title":"Hooks","permalink":"/Img2Num/info/docs/reference/react/hooks"},"next":{"title":"useTheme tests","permalink":"/Img2Num/info/docs/reference/react/hooks/useTheme/tests"}}');var i=t(74848),o=t(28453);const r={title:"useTheme Hook",sidebar_label:"useTheme"},l=void 0,h={},a=[{value:"Dependencies",id:"dependencies",level:2},{value:"Basic usage",id:"basic-usage",level:2},{value:"Return value",id:"return-value",level:2},{value:"How it works",id:"how-it-works",level:2},{value:"Initialization",id:"initialization",level:3},{value:"Theme application",id:"theme-application",level:3},{value:"Usage with CSS variables",id:"usage-with-css-variables",level:2},{value:"Examples",id:"examples",level:2},{value:"Simple theme toggle button",id:"simple-theme-toggle-button",level:3},{value:"Conditional rendering based on theme",id:"conditional-rendering-based-on-theme",level:3},{value:"Reading current theme without toggling",id:"reading-current-theme-without-toggling",level:3},{value:"Implementation details",id:"implementation-details",level:2},{value:"State management",id:"state-management",level:3},{value:"Toggle function",id:"toggle-function",level:3},{value:"Side effects",id:"side-effects",level:3},{value:"Testing",id:"testing",level:2},{value:"Related",id:"related",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What this hook provides:"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Access to the current theme (",(0,i.jsx)(n.code,{children:"'light'"})," or ",(0,i.jsx)(n.code,{children:"'dark'"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"A function to toggle between light and dark themes"}),"\n",(0,i.jsx)(n.li,{children:"Automatic persistence in localStorage"}),"\n",(0,i.jsx)(n.li,{children:"Automatic application of theme classes to the document root"}),"\n"]})]}),"\n",(0,i.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"react"})," (useState, useEffect)"]}),"\n",(0,i.jsxs)(n.li,{children:["Browser APIs: ",(0,i.jsx)(n.code,{children:"localStorage"}),", ",(0,i.jsx)(n.code,{children:"matchMedia"}),", ",(0,i.jsx)(n.code,{children:"document.documentElement"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"basic-usage",children:"Basic usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import { useTheme } from '@hooks/useTheme';\n\nexport default function ThemeAwareComponent() {\n  const { theme, toggleTheme } = useTheme();\n\n  return (\n    <div>\n      <p>Current theme: {theme}</p>\n      <button onClick={toggleTheme}>Toggle theme</button>\n    </div>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"return-value",children:"Return value"}),"\n",(0,i.jsx)(n.p,{children:"The hook returns an object with two properties:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"theme"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsxs)(n.td,{children:["The current active theme (",(0,i.jsx)(n.code,{children:"light"})," or ",(0,i.jsx)(n.code,{children:"dark"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"toggleTheme"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"() => void"})}),(0,i.jsx)(n.td,{children:"Function to toggle between light and dark themes"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,i.jsx)(n.h3,{id:"initialization",children:"Initialization"}),"\n",(0,i.jsxs)(n.p,{children:["When the component first mounts, ",(0,i.jsx)(n.code,{children:"useTheme"})," determines the initial theme in this order:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"localStorage"}),": If a ",(0,i.jsx)(n.code,{children:"'theme'"})," key exists in localStorage, that value is used"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"System preference"}),": If no saved preference exists, it checks the user's system preference using ",(0,i.jsx)(n.code,{children:"matchMedia('(prefers-color-scheme: dark)')"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default fallback"}),": If neither is available, it defaults to ",(0,i.jsx)(n.code,{children:"'light'"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"theme-application",children:"Theme application"}),"\n",(0,i.jsxs)(n.p,{children:["The hook uses a ",(0,i.jsx)(n.code,{children:"useEffect"})," to:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Remove any existing theme classes (",(0,i.jsx)(n.code,{children:"'light'"})," or ",(0,i.jsx)(n.code,{children:"'dark'"}),") from ",(0,i.jsx)(n.code,{children:"document.documentElement"})]}),"\n",(0,i.jsx)(n.li,{children:"Add the current theme as a class to the root element"}),"\n",(0,i.jsx)(n.li,{children:"Save the theme preference to localStorage"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This ensures that CSS variables defined in ",(0,i.jsx)(n.code,{children:":root.light"})," or ",(0,i.jsx)(n.code,{children:":root.dark"})," are properly applied."]}),"\n",(0,i.jsx)(n.h2,{id:"usage-with-css-variables",children:"Usage with CSS variables"}),"\n",(0,i.jsxs)(n.p,{children:["The hook works in conjunction with CSS variables defined in ",(0,i.jsx)(n.code,{children:"/src/global-styles/variables.css"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:"/* Applied when theme is 'light' - Warm Hedgehog Palette */\n:root.light {\n  --color-bg: #f8eacd; /* Soft cream */\n  --color-text: #2c1a1a; /* Dark brown */\n  --color-primary: #6a3817; /* Warm brown */\n  /* ... more variables */\n}\n\n/* Applied when theme is 'dark' - Deep Forest Night */\n:root.dark {\n  --color-bg: #1a0f1f; /* Deep purple/brown */\n  --color-text: #f8eacd; /* Cream (inverted) */\n  --color-primary: #e0ad7d; /* Warm coral */\n  /* ... more variables */\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"../../css/global/variables/theme/",children:"CSS Theme Variables"})," for a complete list of available variables."]}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.h3,{id:"simple-theme-toggle-button",children:"Simple theme toggle button"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import { useTheme } from '@hooks/useTheme';\nimport { Moon, Sun } from 'lucide-react';\n\nfunction ThemeToggle() {\n  const { theme, toggleTheme } = useTheme();\n\n  return (\n    <button onClick={toggleTheme} aria-label=\"Toggle theme\">\n      {theme === 'dark' ? <Sun /> : <Moon />}\n    </button>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"conditional-rendering-based-on-theme",children:"Conditional rendering based on theme"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import { useTheme } from '@hooks/useTheme';\n\nfunction ThemedLogo() {\n  const { theme } = useTheme();\n\n  return <img src={theme === 'dark' ? '/logo-dark.svg' : '/logo-light.svg'} alt=\"Logo\" />;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"reading-current-theme-without-toggling",children:"Reading current theme without toggling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import { useTheme } from '@hooks/useTheme';\n\nfunction ThemeInfo() {\n  const { theme } = useTheme();\n\n  return <p className=\"theme-indicator\">You are viewing in {theme} mode</p>;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"implementation-details",children:"Implementation details"}),"\n",(0,i.jsx)(n.h3,{id:"state-management",children:"State management"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const [theme, setTheme] = useState(() => {\n  if (typeof window === 'undefined') {\n    return 'light'; // SSR fallback\n  }\n\n  const savedTheme = localStorage.getItem('theme');\n  if (savedTheme) {\n    return savedTheme;\n  }\n\n  return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"toggle-function",children:"Toggle function"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const toggleTheme = () => {\n  setTheme((prevTheme) => (prevTheme === 'light' ? 'dark' : 'light'));\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"side-effects",children:"Side effects"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"useEffect(() => {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return;\n  }\n\n  const root = document.documentElement;\n\n  // Remove both theme classes\n  root.classList.remove('light', 'dark');\n\n  // Add current theme class\n  root.classList.add(theme);\n\n  // Persist to localStorage\n  localStorage.setItem('theme', theme);\n}, [theme]);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,i.jsx)(n.p,{children:"The hook can be mocked in tests:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import { vi } from 'vitest';\nimport * as useThemeModule from '@hooks/useTheme';\n\n// Mock the hook\nvi.spyOn(useThemeModule, 'useTheme').mockReturnValue({\n  theme: 'dark',\n  toggleTheme: vi.fn(),\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"../../components/ThemeSwitch/tests",children:"ThemeSwitch tests"})," for examples of testing components that use this hook."]}),"\n",(0,i.jsx)(n.h2,{id:"related",children:"Related"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../../components/ThemeSwitch",children:"ThemeSwitch Component"})," - UI component built with this hook"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../../css/global/variables/theme/",children:"CSS Theme Variables"})," - Available CSS variables for theming"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);