"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5929],{12895:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>n,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"reference/wasm/modules/image/bilateral_filter/api","title":"Bilateral Filter \u2014 API & Reference","description":"Quick reference for the function implemented in the header.","source":"@site/docs/reference/wasm/modules/image/bilateral_filter/api.md","sourceDirName":"reference/wasm/modules/image/bilateral_filter","slug":"/reference/wasm/modules/image/bilateral_filter/api","permalink":"/Img2Num/info/docs/reference/wasm/modules/image/bilateral_filter/api","draft":false,"unlisted":false,"editUrl":"https://github.com/Ryan-Millard/Img2Num/edit/main/docs/docs/reference/wasm/modules/image/bilateral_filter/api.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"api","title":"Bilateral Filter \u2014 API & Reference","sidebar_label":"API / Usage","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Implementation","permalink":"/Img2Num/info/docs/reference/wasm/modules/image/bilateral_filter/implementation"},"next":{"title":"Implementation Explained","permalink":"/Img2Num/info/docs/reference/wasm/modules/image/bilateral_filter/explained"}}');var l=t(74848),i=t(28453);const n={id:"api",title:"Bilateral Filter \u2014 API & Reference",sidebar_label:"API / Usage",sidebar_position:4},r="Bilateral Filter \u2014 API & Reference",c={},d=[{value:"Parameters",id:"parameters",level:2}];function m(e){const s={a:"a",admonition:"admonition",annotation:"annotation",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",mtext:"mtext",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"bilateral-filter--api--reference",children:"Bilateral Filter \u2014 API & Reference"})}),"\n",(0,l.jsx)(s.p,{children:"Quick reference for the function implemented in the header."}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-cpp",metastring:'title="Applies a bilateral filter to an RGBA uint8_t* image (modified in-place)."',children:"void bilateral_filter(uint8_t *image, size_t width, size_t height, double sigma_spatial, double sigma_range, uint8_t color_space)\n"})}),"\n",(0,l.jsx)(s.admonition,{title:"Alpha Channel Preservation",type:"important",children:(0,l.jsxs)(s.p,{children:["The alpha channel, ",(0,l.jsx)(s.code,{children:"image[i + 3]"}),", is left untouched - it is not part of the bilateral filter implementation."]})}),"\n",(0,l.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"Parameter"}),(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"Type"}),(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"image"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"uint8_t*"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"Pointer to the RGBA image data (4 bytes per pixel). Modified in-place."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"width"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"size_t"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"Width of the image in pixels."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"height"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"size_t"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"Height of the image in pixels."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"sigma_spatial"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"double"})}),(0,l.jsxs)(s.td,{style:{textAlign:"left"},children:["Spatial standard deviation (",(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsx)(s.mrow,{children:(0,l.jsxs)(s.msub,{children:[(0,l.jsx)(s.mi,{children:"\u03c3"}),(0,l.jsx)(s.mi,{children:"s"})]})}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\sigma_s"})]})})}),(0,l.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,l.jsxs)(s.span,{className:"mord",children:[(0,l.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"\u03c3"}),(0,l.jsx)(s.span,{className:"msupsub",children:(0,l.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(s.span,{className:"vlist-r",children:[(0,l.jsx)(s.span,{className:"vlist",style:{height:"0.1514em"},children:(0,l.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,l.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(s.span,{className:"mord mathnormal mtight",children:"s"})})]})}),(0,l.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(s.span,{className:"vlist-r",children:(0,l.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,l.jsx)(s.span,{})})})]})})]})]})})]}),"). Controls how far pixels influence each other spatially."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"sigma_range"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"double"})}),(0,l.jsxs)(s.td,{style:{textAlign:"left"},children:["Range standard deviation (",(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsx)(s.mrow,{children:(0,l.jsxs)(s.msub,{children:[(0,l.jsx)(s.mi,{children:"\u03c3"}),(0,l.jsx)(s.mi,{children:"r"})]})}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\sigma_r"})]})})}),(0,l.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,l.jsxs)(s.span,{className:"mord",children:[(0,l.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"\u03c3"}),(0,l.jsx)(s.span,{className:"msupsub",children:(0,l.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(s.span,{className:"vlist-r",children:[(0,l.jsx)(s.span,{className:"vlist",style:{height:"0.1514em"},children:(0,l.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,l.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"r"})})]})}),(0,l.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(s.span,{className:"vlist-r",children:(0,l.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,l.jsx)(s.span,{})})})]})})]})]})})]}),"). Controls how much color definition is preserved (edge preservation)."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"color_space"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"uint8_t"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"Toggle color space to use for range distance (0 - CIELAB, 1 - RGB). CIELAB produces perceptually better results but requires more computation."})]})]})]}),"\n",(0,l.jsx)(s.admonition,{title:"Implementation Details",type:"info",children:(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Namespace"}),": ",(0,l.jsx)(s.code,{children:"bilateral"})," (C++)"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Export"}),": Exposed to WASM via ",(0,l.jsx)(s.code,{children:'extern "C"'})," wrapper as ",(0,l.jsx)(s.code,{children:"bilateral_filter"}),"."]}),"\n"]})}),"\n",(0,l.jsxs)(s.admonition,{title:"Color Space Discrepancies",type:"tip",children:[(0,l.jsxs)(s.p,{children:["As noted on the\n",(0,l.jsx)(s.a,{href:"../color-spaces/#why-the-scaling-factor-exists-and-why-418-works",children:"Color Space Selection page"}),",\nthe bilateral filter will produce ",(0,l.jsx)(s.strong,{children:"different results"})," depending on the selected\n",(0,l.jsx)(s.code,{children:"color_space"}),", even with identical parameters."]}),(0,l.jsxs)(s.p,{children:["To achieve ",(0,l.jsx)(s.strong,{children:"visually equivalent filtering behavior"})," between CIELAB and RGB,\ntreat CIELAB as the reference space and scale ",(0,l.jsx)(s.code,{children:"sigma_range"})," for RGB:"]}),(0,l.jsx)(s.span,{className:"katex-display",children:(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsxs)(s.mrow,{children:[(0,l.jsxs)(s.msub,{children:[(0,l.jsx)(s.mi,{children:"\u03c3"}),(0,l.jsx)(s.mtext,{children:"range,\xa0RGB"})]}),(0,l.jsx)(s.mo,{children:"\u2248"}),(0,l.jsx)(s.mn,{children:"4.18"}),(0,l.jsx)(s.mo,{children:"\xd7"}),(0,l.jsxs)(s.msub,{children:[(0,l.jsx)(s.mi,{children:"\u03c3"}),(0,l.jsx)(s.mtext,{children:"range,\xa0CIELAB"})]})]}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\sigma_{\\text{range, RGB}} \\approx 4.18 \\times \\sigma_{\\text{range, CIELAB}}"})]})})}),(0,l.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"0.7692em",verticalAlign:"-0.2861em"}}),(0,l.jsxs)(s.span,{className:"mord",children:[(0,l.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"\u03c3"}),(0,l.jsx)(s.span,{className:"msupsub",children:(0,l.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(s.span,{className:"vlist-r",children:[(0,l.jsx)(s.span,{className:"vlist",style:{height:"0.3283em"},children:(0,l.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,l.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(s.span,{className:"mord mtight",children:(0,l.jsx)(s.span,{className:"mord text mtight",children:(0,l.jsx)(s.span,{className:"mord mtight",children:"range,\xa0RGB"})})})})]})}),(0,l.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(s.span,{className:"vlist-r",children:(0,l.jsx)(s.span,{className:"vlist",style:{height:"0.2861em"},children:(0,l.jsx)(s.span,{})})})]})})]}),(0,l.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsx)(s.span,{className:"mrel",children:"\u2248"}),(0,l.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,l.jsx)(s.span,{className:"mord",children:"4.18"}),(0,l.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(s.span,{className:"mbin",children:"\xd7"}),(0,l.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"0.7167em",verticalAlign:"-0.2861em"}}),(0,l.jsxs)(s.span,{className:"mord",children:[(0,l.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"\u03c3"}),(0,l.jsx)(s.span,{className:"msupsub",children:(0,l.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(s.span,{className:"vlist-r",children:[(0,l.jsx)(s.span,{className:"vlist",style:{height:"0.3283em"},children:(0,l.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,l.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(s.span,{className:"mord mtight",children:(0,l.jsx)(s.span,{className:"mord text mtight",children:(0,l.jsx)(s.span,{className:"mord mtight",children:"range,\xa0CIELAB"})})})})]})}),(0,l.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(s.span,{className:"vlist-r",children:(0,l.jsx)(s.span,{className:"vlist",style:{height:"0.2861em"},children:(0,l.jsx)(s.span,{})})})]})})]})]})]})]})}),(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["The factor ",(0,l.jsx)(s.strong,{children:"4.18"})," is empirically derived for natural images and equalizes bilateral\nrange weights across color spaces. Any value in the range ",(0,l.jsx)(s.strong,{children:"[4.1, 4.3]"})," will typically\nproduce comparable results. This is a recommended default, not a universal constant.\n:::"]}),"\n"]})]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(m,{...e})}):m(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>n,x:()=>r});var a=t(96540);const l={},i=a.createContext(l);function n(e){const s=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:n(e.components),a.createElement(i.Provider,{value:s},e.children)}}}]);