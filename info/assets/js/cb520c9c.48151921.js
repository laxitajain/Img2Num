"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3506],{28453:(e,s,l)=>{l.d(s,{R:()=>r,x:()=>a});var n=l(96540);const i={},t=n.createContext(i);function r(e){const s=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(t.Provider,{value:s},e.children)}},97425:(e,s,l)=>{l.r(s),l.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>o,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"reference/wasm/modules/image/cielab/cielab-api","title":"CIELAB Color Space API","description":"Overview","source":"@site/docs/reference/wasm/modules/image/cielab/api.md","sourceDirName":"reference/wasm/modules/image/cielab","slug":"/reference/wasm/modules/image/cielab/cielab-api","permalink":"/Img2Num/info/docs/reference/wasm/modules/image/cielab/cielab-api","draft":false,"unlisted":false,"editUrl":"https://github.com/Ryan-Millard/Img2Num/edit/main/docs/docs/reference/wasm/modules/image/cielab/api.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"cielab-api","title":"CIELAB Color Space API","sidebar_label":"API Reference","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Implementation Explained","permalink":"/Img2Num/info/docs/reference/wasm/modules/image/cielab/explained"},"next":{"title":"Tools","permalink":"/Img2Num/info/docs/reference/tools"}}');var i=l(74848),t=l(28453);const r={id:"cielab-api",title:"CIELAB Color Space API",sidebar_label:"API Reference",sidebar_position:2},a="CIELAB Color Space Conversion API",c={},d=[{value:"Overview",id:"overview",level:2},{value:"Functions",id:"functions",level:2},{value:"<code>rgb_to_lab</code>",id:"rgb_to_lab",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Transformation Pipeline",id:"transformation-pipeline",level:4},{value:"Example",id:"example",level:4},{value:"<code>lab_to_rgb</code>",id:"lab_to_rgb",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Transformation Pipeline",id:"transformation-pipeline-1",level:4},{value:"Out-of-Gamut Handling",id:"out-of-gamut-handling",level:4},{value:"Example",id:"example-1",level:4},{value:"Technical Specifications",id:"technical-specifications",level:2},{value:"Color Space Standards",id:"color-space-standards",level:3},{value:"CIELAB Coordinate System",id:"cielab-coordinate-system",level:3},{value:"Distance Metric",id:"distance-metric",level:3},{value:"Usage in Bilateral Filter",id:"usage-in-bilateral-filter",level:2},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Computational Cost",id:"computational-cost",level:3},{value:"Optimization Notes",id:"optimization-notes",level:3},{value:"See Also",id:"see-also",level:2}];function h(e){const s={a:"a",admonition:"admonition",annotation:"annotation",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msqrt:"msqrt",msup:"msup",ol:"ol",p:"p",path:"path",pre:"pre",semantics:"semantics",span:"span",strong:"strong",svg:"svg",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"cielab-color-space-conversion-api",children:"CIELAB Color Space Conversion API"})}),"\n",(0,i.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(s.p,{children:"The CIELAB module provides bidirectional conversion between 8-bit sRGB and CIELAB (CIE L*a*b*) color spaces. CIELAB is a perceptually uniform color space designed to approximate human vision, where equal Euclidean distances correspond to roughly equal perceived color differences."}),"\n",(0,i.jsx)(s.h2,{id:"functions",children:"Functions"}),"\n",(0,i.jsx)(s.h3,{id:"rgb_to_lab",children:(0,i.jsx)(s.code,{children:"rgb_to_lab"})}),"\n",(0,i.jsx)(s.p,{children:"Convert 8-bit sRGB to CIELAB color space."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-cpp",children:"void rgb_to_lab(\n    const uint8_t r_u8,\n    const uint8_t g_u8,\n    const uint8_t b_u8,\n    double& out_l,\n    double& out_a,\n    double& out_b\n);\n"})}),"\n",(0,i.jsx)(s.h4,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Parameter"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Type"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Range"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"r_u8"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"uint8_t"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"[0, 255]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Red channel (input)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"g_u8"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"uint8_t"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"[0, 255]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Green channel (input)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"b_u8"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"uint8_t"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"[0, 255]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Blue channel (input)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"out_l"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"double&"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"[0, 100]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"L* lightness (output, clamped)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"out_a"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"double&"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"~[-128, 127]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"a* green-red axis (output)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"out_b"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"double&"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"~[-128, 127]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"b* blue-yellow axis (output)"})]})]})]}),"\n",(0,i.jsx)(s.h4,{id:"transformation-pipeline",children:"Transformation Pipeline"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"sRGB \u2192 Linear RGB"}),": Inverse gamma correction (gamma expansion)"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Applies IEC 61966-2-1:1999 sRGB transfer function"}),"\n",(0,i.jsx)(s.li,{children:"Converts [0, 255] \u2192 [0, 1] \u2192 linear [0, 1]"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Linear RGB \u2192 XYZ"}),": Matrix multiplication"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Uses D65 illuminant (standard daylight, 6500K)"}),"\n",(0,i.jsx)(s.li,{children:"Applies ITU-R BT.709 color primaries"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"XYZ \u2192 CIELAB"}),": Normalization and nonlinear transform"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Normalizes by D65 reference white point"}),"\n",(0,i.jsx)(s.li,{children:"Applies CIE-defined piecewise function (cube root or linear near zero)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"example",children:"Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-cpp",children:'#include "cielab.h"\n\n// Convert bright red to LAB\nuint8_t r = 255, g = 0, b = 0;\ndouble L, a, b_lab;\nrgb_to_lab(r, g, b, L, a, b_lab);\n// Result: L \u2248 53.2, a \u2248 80.1, b \u2248 67.2\n'})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"lab_to_rgb",children:(0,i.jsx)(s.code,{children:"lab_to_rgb"})}),"\n",(0,i.jsx)(s.p,{children:"Convert CIELAB to 8-bit sRGB color space."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-cpp",children:"void lab_to_rgb(\n    const double L,\n    const double A,\n    const double B,\n    uint8_t& r_u8,\n    uint8_t& g_u8,\n    uint8_t& b_u8\n);\n"})}),"\n",(0,i.jsx)(s.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Parameter"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Type"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Range"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"L"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"double"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"[0, 100]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"L* lightness (input)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"A"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"double"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"~[-128, 127]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"a* green-red axis (input)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"B"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"double"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"~[-128, 127]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"b* blue-yellow axis (input)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"r_u8"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"uint8_t&"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"[0, 255]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Red channel (output, clamped)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"g_u8"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"uint8_t&"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"[0, 255]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Green channel (output, clamped)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"b_u8"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"uint8_t&"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"[0, 255]"}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Blue channel (output, clamped)"})]})]})]}),"\n",(0,i.jsx)(s.h4,{id:"transformation-pipeline-1",children:"Transformation Pipeline"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"CIELAB \u2192 XYZ"}),": Inverse nonlinear transform and denormalization"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Applies inverse piecewise function (cube or linear)"}),"\n",(0,i.jsx)(s.li,{children:"Denormalizes by D65 white point"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"XYZ \u2192 Linear RGB"}),": Inverse matrix multiplication"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"May produce out-of-gamut values (negative or >1.0)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Linear RGB \u2192 sRGB"}),": Gamma correction"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Applies gamma compression using sRGB transfer function"}),"\n",(0,i.jsx)(s.li,{children:"Clamps to [0, 1], rounds, and converts to [0, 255]"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"out-of-gamut-handling",children:"Out-of-Gamut Handling"}),"\n",(0,i.jsx)(s.admonition,{title:"Out-of-Gamut Colors",type:"warning",children:(0,i.jsx)(s.p,{children:"Not all LAB colors are representable in sRGB. Colors outside the sRGB gamut are clamped to the nearest valid RGB value, which may result in color shifts or loss of hue."})}),"\n",(0,i.jsx)(s.h4,{id:"example-1",children:"Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-cpp",children:'#include "cielab.h"\n\n// Convert LAB back to RGB\ndouble L = 53.2, a = 80.1, b = 67.2;\nuint8_t r, g, b_rgb;\nlab_to_rgb(L, a, b, r, g, b_rgb);\n// Result: r \u2248 255, g \u2248 0, b \u2248 0 (bright red)\n'})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"technical-specifications",children:"Technical Specifications"}),"\n",(0,i.jsx)(s.h3,{id:"color-space-standards",children:"Color Space Standards"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Property"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Value"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.strong,{children:"Color space"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"sRGB (IEC 61966-2-1:1999)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.strong,{children:"Illuminant"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"D65 (6500K daylight)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.strong,{children:"Observer"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"CIE 1931 2\xb0 Standard Observer"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.strong,{children:"Gamma"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"2.4 (sRGB standard)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.strong,{children:"RGB primaries"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"ITU-R BT.709"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"cielab-coordinate-system",children:"CIELAB Coordinate System"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"L* (Lightness)"}),": Perceptual lightness","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"0 = black"}),"\n",(0,i.jsx)(s.li,{children:"100 = white"}),"\n",(0,i.jsx)(s.li,{children:"50 \u2248 mid-gray"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"a* (Green-Red)"}),": Color opponent dimension","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Negative values = green"}),"\n",(0,i.jsx)(s.li,{children:"Positive values = red"}),"\n",(0,i.jsx)(s.li,{children:"0 = neutral (gray axis)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"b* (Blue-Yellow)"}),": Color opponent dimension","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Negative values = blue"}),"\n",(0,i.jsx)(s.li,{children:"Positive values = yellow"}),"\n",(0,i.jsx)(s.li,{children:"0 = neutral (gray axis)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"distance-metric",children:"Distance Metric"}),"\n",(0,i.jsx)(s.p,{children:"Euclidean distance in CIELAB space approximates perceptual color difference:"}),"\n",(0,i.jsx)(s.span,{className:"katex-display",children:(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"\u0394"}),(0,i.jsx)(s.mi,{children:"E"}),(0,i.jsx)(s.mo,{children:"="}),(0,i.jsx)(s.msqrt,{children:(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mo,{stretchy:"false",children:"("}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"\u0394"}),(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mi,{children:"L"}),(0,i.jsx)(s.mo,{children:"\u2217"})]}),(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mo,{stretchy:"false",children:")"}),(0,i.jsx)(s.mn,{children:"2"})]}),(0,i.jsx)(s.mo,{children:"+"}),(0,i.jsx)(s.mo,{stretchy:"false",children:"("}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"\u0394"}),(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mi,{children:"a"}),(0,i.jsx)(s.mo,{children:"\u2217"})]}),(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mo,{stretchy:"false",children:")"}),(0,i.jsx)(s.mn,{children:"2"})]}),(0,i.jsx)(s.mo,{children:"+"}),(0,i.jsx)(s.mo,{stretchy:"false",children:"("}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"\u0394"}),(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mi,{children:"b"}),(0,i.jsx)(s.mo,{children:"\u2217"})]}),(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mo,{stretchy:"false",children:")"}),(0,i.jsx)(s.mn,{children:"2"})]})]})})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\Delta E = \\sqrt{(\\Delta L^*)^2 + (\\Delta a^*)^2 + (\\Delta b^*)^2}"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(s.span,{className:"mord",children:"\u0394"}),(0,i.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"E"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"="}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1.24em",verticalAlign:"-0.2561em"}}),(0,i.jsx)(s.span,{className:"mord sqrt",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsxs)(s.span,{className:"vlist",style:{height:"0.9839em"},children:[(0,i.jsxs)(s.span,{className:"svg-align",style:{top:"-3.2em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3.2em"}}),(0,i.jsxs)(s.span,{className:"mord",style:{paddingLeft:"1em"},children:[(0,i.jsx)(s.span,{className:"mopen",children:"("}),(0,i.jsx)(s.span,{className:"mord",children:"\u0394"}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord mathnormal",children:"L"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.6147em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.989em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mbin mtight",children:"\u2217"})})]})})})})})]}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:")"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.7401em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.989em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:"2"})})]})})})})})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(s.span,{className:"mbin",children:"+"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"("}),(0,i.jsx)(s.span,{className:"mord",children:"\u0394"}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord mathnormal",children:"a"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.6147em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.989em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mbin mtight",children:"\u2217"})})]})})})})})]}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:")"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.7401em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.989em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:"2"})})]})})})})})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(s.span,{className:"mbin",children:"+"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"("}),(0,i.jsx)(s.span,{className:"mord",children:"\u0394"}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord mathnormal",children:"b"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.6147em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.989em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mbin mtight",children:"\u2217"})})]})})})})})]}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:")"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.7401em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.989em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:"2"})})]})})})})})]})]})]}),(0,i.jsxs)(s.span,{style:{top:"-2.9439em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3.2em"}}),(0,i.jsx)(s.span,{className:"hide-tail",style:{minWidth:"1.02em",height:"1.28em"},children:(0,i.jsx)(s.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.28em",viewBox:"0 0 400000 1296",preserveAspectRatio:"xMinYMin slice",children:(0,i.jsx)(s.path,{d:"M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z"})})})]})]}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.2561em"},children:(0,i.jsx)(s.span,{})})})]})})]})]})]})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Interpretation"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u0394E < 1: Imperceptible difference"}),"\n",(0,i.jsx)(s.li,{children:"\u0394E < 2: Perceptible with close observation"}),"\n",(0,i.jsx)(s.li,{children:"\u0394E < 10: Noticeable at a glance"}),"\n",(0,i.jsx)(s.li,{children:"\u0394E > 10: Significant color difference"}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"usage-in-bilateral-filter",children:"Usage in Bilateral Filter"}),"\n",(0,i.jsx)(s.p,{children:"The CIELAB color space is used in the bilateral filter to compute perceptually uniform range weights:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-cpp",children:"// In bilateral_filter.cpp (CIELAB mode)\ndouble dL = L_neighbor - L_center;\ndouble dA = A_neighbor - A_center;\ndouble dB = B_neighbor - B_center;\ndouble dist = std::sqrt(dL*dL + dA*dA + dB*dB);\ndouble w_range = gaussian(dist, sigma_range);\n"})}),"\n",(0,i.jsx)(s.p,{children:"This produces more perceptually consistent smoothing compared to RGB Euclidean distance."}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,i.jsx)(s.h3,{id:"computational-cost",children:"Computational Cost"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Operation"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Complexity"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"rgb_to_lab"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"~20-30 floating-point operations"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"lab_to_rgb"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"~25-35 floating-point operations"})]})]})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Key operations"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Gamma correction: piecewise with ",(0,i.jsx)(s.code,{children:"pow()"})," for nonlinear segment"]}),"\n",(0,i.jsx)(s.li,{children:"Matrix multiplication: 3\xd73 matrix"}),"\n",(0,i.jsxs)(s.li,{children:["XYZ transform: ",(0,i.jsx)(s.code,{children:"cbrt()"})," or linear approximation"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"optimization-notes",children:"Optimization Notes"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Batch conversion"}),": When processing entire images, consider vectorization (SIMD)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"LUT for gamma"}),": Can be precomputed for all 256 uint8_t values"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Fast approximations"}),": Polynomial approximations for ",(0,i.jsx)(s.code,{children:"pow()"})," and ",(0,i.jsx)(s.code,{children:"cbrt()"})," can improve speed at slight accuracy cost"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"../../bilateral_filter/color-spaces",children:"Bilateral Filter Color Spaces"})," \u2014 How CIELAB is used in filtering"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"../../bilateral_filter/implementation",children:"Bilateral Filter Implementation"})," \u2014 Implementation details"]}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/CIELAB_color_space",children:"CIE 1976 L*a*b* Color Space (Wikipedia)"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.color.org/chardata/rgb/srgb.xalter",children:"sRGB Specification (IEC 61966-2-1:1999)"})}),"\n"]})]})}function o(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);