"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9339],{20260:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"reference/react/pages/Editor/tests","title":"Editor Tests","description":"Testing strategy and suggestions for the Editor page (pan/zoom, mode switching, and shape toggling).","source":"@site/docs/reference/react/pages/Editor/tests.md","sourceDirName":"reference/react/pages/Editor","slug":"/reference/react/pages/Editor/tests","permalink":"/Img2Num/info/docs/reference/react/pages/Editor/tests","draft":false,"unlisted":false,"editUrl":"https://github.com/Ryan-Millard/Img2Num/edit/main/docs/docs/reference/react/pages/Editor/tests.md","tags":[],"version":"current","frontMatter":{"title":"Editor Tests","description":"Testing strategy and suggestions for the Editor page (pan/zoom, mode switching, and shape toggling).","keywords":["tests","vitest","testing-library","editor","svg","pointer events"],"sidebar_label":"Tests"},"sidebar":"tutorialSidebar","previous":{"title":"Editor","permalink":"/Img2Num/info/docs/reference/react/pages/Editor/"},"next":{"title":"Vite Configuration","permalink":"/Img2Num/info/docs/reference/react/vite-config"}}');var i=s(74848),r=s(28453);const o={title:"Editor Tests",description:"Testing strategy and suggestions for the Editor page (pan/zoom, mode switching, and shape toggling).",keywords:["tests","vitest","testing-library","editor","svg","pointer events"],sidebar_label:"Tests"},a="Editor Tests",d={},c=[{value:"Current coverage",id:"current-coverage",level:2},{value:"High-value behaviors to keep covered",id:"high-value-behaviors-to-keep-covered",level:2},{value:"Supplying SVG in tests",id:"supplying-svg-in-tests",level:2},{value:"Pointer and wheel events (practical notes)",id:"pointer-and-wheel-events-practical-notes",level:2},{value:"Common pitfalls",id:"common-pitfalls",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"editor-tests",children:"Editor Tests"})}),"\n",(0,i.jsxs)(t.p,{children:["The Editor page (",(0,i.jsx)(t.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/src/pages/Editor/index.jsx",children:(0,i.jsx)(t.code,{children:"src/pages/Editor/index.jsx"})}),") is interaction-heavy, so coverage focuses on end-to-end behavior with ",(0,i.jsx)(t.strong,{children:"React Testing Library"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"current-coverage",children:"Current coverage"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/src/pages/Editor/Editor.test.jsx",children:"src/pages/Editor/Editor.test.jsx"}),":","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["renders fallback when ",(0,i.jsx)(t.code,{children:"location.state.svg"})," is missing"]}),"\n",(0,i.jsx)(t.li,{children:"renders provided SVG content"}),"\n",(0,i.jsxs)(t.li,{children:["adds ",(0,i.jsx)(t.code,{children:"coloredRegion"})," on tap in color mode (one-way reveal)"]}),"\n",(0,i.jsxs)(t.li,{children:["switches to preview mode (disables toggling) via the ",(0,i.jsx)(t.code,{children:"GlassSwitch"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/src/pages/Editor/EditorHelmet.test.jsx",children:"src/pages/Editor/EditorHelmet.test.jsx"}),": title, robots, description, and canonical meta."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"high-value-behaviors-to-keep-covered",children:"High-value behaviors to keep covered"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Empty state: direct navigation shows the \u201cNo SVG data found\u201d panel."}),"\n",(0,i.jsxs)(t.li,{children:["Mode switch: ",(0,i.jsx)(t.code,{children:"aria-label"})," flips and the container class toggles between ",(0,i.jsx)(t.code,{children:"colorMode"})," and ",(0,i.jsx)(t.code,{children:"previewMode"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Shape reveal: tapping a supported primitive (",(0,i.jsx)(t.code,{children:"path"}),", ",(0,i.jsx)(t.code,{children:"rect"}),", ",(0,i.jsx)(t.code,{children:"circle"}),", ",(0,i.jsx)(t.code,{children:"polygon"}),", ",(0,i.jsx)(t.code,{children:"ellipse"}),") adds ",(0,i.jsx)(t.code,{children:"coloredRegion"})," and keeps it applied on repeat taps (no toggle-off)."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"supplying-svg-in-tests",children:"Supplying SVG in tests"}),"\n",(0,i.jsxs)(t.p,{children:["Render the page inside a router and pass state through ",(0,i.jsx)(t.code,{children:"MemoryRouter"})," entries:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-jsx",children:"render(\n  <MemoryRouter initialEntries={[{ pathname: '/editor', state: { svg: '<svg><path /></svg>' } }]}>\n    <Editor />\n  </MemoryRouter>\n);\n"})}),"\n",(0,i.jsxs)(t.p,{children:["This avoids mocking ",(0,i.jsx)(t.code,{children:"useLocation"})," and matches production usage."]}),"\n",(0,i.jsx)(t.h2,{id:"pointer-and-wheel-events-practical-notes",children:"Pointer and wheel events (practical notes)"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"document.elementFromPoint"})," can be stubbed to return the shape you want to toggle; restore it after each test."]}),"\n",(0,i.jsx)(t.li,{children:"Pan tests should move more than the ~5px threshold to be treated as a drag."}),"\n",(0,i.jsxs)(t.li,{children:["Wheel zoom can be asserted by reading the inline ",(0,i.jsx)(t.code,{children:"transform"})," on the wrapper."]}),"\n",(0,i.jsx)(t.li,{children:"Pinch is multi-pointer; prefer unit-testing math in a helper if the logic is extracted."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"common-pitfalls",children:"Common pitfalls"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Remember ",(0,i.jsx)(t.code,{children:"act(...)"})," around pointer/wheel interactions that change React state."]}),"\n",(0,i.jsxs)(t.li,{children:["CSS modules hash class names; check ",(0,i.jsx)(t.code,{children:".classList.contains(styles.coloredRegion)"})," rather than string literals."]}),"\n",(0,i.jsxs)(t.li,{children:["Keep tests colocated under ",(0,i.jsx)(t.code,{children:"src/pages/Editor/"})," (page-local) for discoverability."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>a});var n=s(96540);const i={},r=n.createContext(i);function o(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);