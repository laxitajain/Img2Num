"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1904],{28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>r});var i=n(96540);const s={},o=i.createContext(s);function l(e){const t=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(o.Provider,{value:t},e.children)}},55331:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"reference/react/components/Tooltip/index","title":"Tooltip","description":"What this file covers (quick):","source":"@site/docs/reference/react/components/Tooltip/index.md","sourceDirName":"reference/react/components/Tooltip","slug":"/reference/react/components/Tooltip/","permalink":"/Img2Num/info/docs/reference/react/components/Tooltip/","draft":false,"unlisted":false,"editUrl":"https://github.com/Ryan-Millard/Img2Num/edit/main/docs/docs/reference/react/components/Tooltip/index.md","tags":[],"version":"current","frontMatter":{"title":"Tooltip"},"sidebar":"tutorialSidebar","previous":{"title":"GlassSwitch Tests","permalink":"/Img2Num/info/docs/reference/react/components/GlassSwitch/tests"},"next":{"title":"Tests","permalink":"/Img2Num/info/docs/reference/react/components/Tooltip/tests"}}');var s=n(74848),o=n(28453);const l={title:"Tooltip"},r=void 0,c={},a=[{value:"Dependencies",id:"dependencies",level:2},{value:"Basic usage",id:"basic-usage",level:2},{value:"Props",id:"props",level:2},{value:"Accessibility &amp; Link behaviour",id:"accessibility--link-behaviour",level:2},{value:"Good: attach tooltip to the interactive element",id:"good-attach-tooltip-to-the-interactive-element",level:3},{value:"Bad: wrapping the interactive element inside a focusable wrapper (creates duplicate focus targets)",id:"bad-wrapping-the-interactive-element-inside-a-focusable-wrapper-creates-duplicate-focus-targets",level:3},{value:"Implementation notes (what the component does)",id:"implementation-notes-what-the-component-does",level:2},{value:"Examples",id:"examples",level:2},{value:"Testing tips",id:"testing-tips",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"What this file covers (quick):"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["How to use the ",(0,s.jsx)(t.code,{children:"Tooltip"})," component"]}),"\n",(0,s.jsx)(t.li,{children:"Props & defaults"}),"\n",(0,s.jsx)(t.li,{children:"Accessibility"}),"\n",(0,s.jsx)(t.li,{children:"Short implementation caveats"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://www.npmjs.com/package/react-tooltip",children:(0,s.jsx)(t.code,{children:"react-tooltip"})}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"basic-usage",children:"Basic usage"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",children:"import Tooltip from '@components/Tooltip';\n\nexport default function Example() {\n  return (\n    <Tooltip content=\"Helpful hint\">\n      <button>Hover or focus me</button>\n    </Tooltip>\n  );\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"Tooltip"})," will attach the attributes ",(0,s.jsx)(t.code,{children:"data-tooltip-id"})," and ",(0,s.jsx)(t.code,{children:"data-tooltip-content"})," to the element you pass as ",(0,s.jsx)(t.code,{children:"children"})," when possible.\nIf you pass a non-element child (plain text or multiple nodes), the component wraps them in a focusable ",(0,s.jsx)(t.code,{children:"<span tabIndex={0}>"}),"\nso keyboard users can discover the tooltip. The actual tooltip element is rendered by ",(0,s.jsx)(t.code,{children:"react-tooltip"})," and appended to ",(0,s.jsx)(t.code,{children:"document.body"})," as a portal."]}),"\n",(0,s.jsx)(t.h2,{id:"props",children:"Props"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Prop"}),(0,s.jsx)(t.th,{style:{textAlign:"right"},children:"Type"}),(0,s.jsx)(t.th,{style:{textAlign:"right"},children:"Required"}),(0,s.jsx)(t.th,{style:{textAlign:"right"},children:"Default"}),(0,s.jsx)(t.th,{children:"Notes"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"content"})}),(0,s.jsx)(t.td,{style:{textAlign:"right"},children:(0,s.jsx)(t.code,{children:"string"})}),(0,s.jsx)(t.td,{style:{textAlign:"right"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"right"}}),(0,s.jsx)(t.td,{children:"Text shown inside the tooltip. Keep it short - tooltips are for hints."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"children"})}),(0,s.jsx)(t.td,{style:{textAlign:"right"},children:(0,s.jsx)(t.code,{children:"node"})}),(0,s.jsx)(t.td,{style:{textAlign:"right"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"right"}}),(0,s.jsxs)(t.td,{children:["Element that triggers the tooltip. Prefer a single React element (",(0,s.jsx)(t.code,{children:"<button>"}),", ",(0,s.jsx)(t.code,{children:"<a>"}),", ",(0,s.jsx)(t.code,{children:"<Link>"}),", etc.). If a non-element is passed (string / fragment) the component wraps it in a focusable ",(0,s.jsx)(t.code,{children:"<span>"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"id"})}),(0,s.jsx)(t.td,{style:{textAlign:"right"},children:(0,s.jsx)(t.code,{children:"string"})}),(0,s.jsx)(t.td,{style:{textAlign:"right"},children:"No"}),(0,s.jsx)(t.td,{style:{textAlign:"right"},children:"generated"}),(0,s.jsx)(t.td,{children:"Optional ID to control multiple tooltips."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"dynamicPositioning"})}),(0,s.jsx)(t.td,{style:{textAlign:"right"},children:(0,s.jsx)(t.code,{children:"bool"})}),(0,s.jsx)(t.td,{style:{textAlign:"right"},children:"No"}),(0,s.jsx)(t.td,{style:{textAlign:"right"},children:(0,s.jsx)(t.code,{children:"true"})}),(0,s.jsxs)(t.td,{children:["When ",(0,s.jsx)(t.code,{children:"true"}),", fallback placements ",(0,s.jsx)(t.code,{children:"['bottom','top','left']"})," will be tried if the preferred placement (",(0,s.jsx)(t.code,{children:'place="right"'}),") doesn't fit. When ",(0,s.jsx)(t.code,{children:"false"})," no fallbacks are provided."]})]})]})]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"children"})," remains typed as ",(0,s.jsx)(t.code,{children:"node"})," so you can pass text, small fragments or an element,\nbut the component behaves best when given ",(0,s.jsx)(t.strong,{children:"a single element"})," so attributes can be attached directly."]})}),"\n",(0,s.jsx)(t.h2,{id:"accessibility--link-behaviour",children:"Accessibility & Link behaviour"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"react-tooltip"})," renders a node with ",(0,s.jsx)(t.code,{children:'role="tooltip"'}),"; screen-readers can discover the tooltip content through that node."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Keyboard support:"})," the component enables focus-triggered tooltips using ",(0,s.jsx)(t.code,{children:"openOnFocus"}),".\nFor the tooltip to open on keyboard navigation, the element that receives focus must be the same element the tooltip is attached to:","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["If you pass a focusable element such as ",(0,s.jsx)(t.code,{children:"<button>"}),", ",(0,s.jsx)(t.code,{children:"<a>"}),", or a ",(0,s.jsx)(t.code,{children:"<Link>"})," component,\n",(0,s.jsx)(t.code,{children:"Tooltip"})," will attach the necessary attributes to that element and ",(0,s.jsx)(t.code,{children:"openOnFocus"})," will work as expected."]}),"\n",(0,s.jsxs)(t.li,{children:["If you pass plain text or a non-focusable element, ",(0,s.jsx)(t.code,{children:"Tooltip"})," will wrap it in a ",(0,s.jsx)(t.code,{children:"<span tabIndex={0}>"})," so it becomes keyboard focusable."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Important:"})," Do ",(0,s.jsx)(t.strong,{children:"not"})," wrap a focusable child inside an extra ",(0,s.jsx)(t.code,{children:"tabIndex={0}"})," element - this creates two tab stops (double focus).\nPrefer giving the tooltip attributes directly to the interactive element.\nFor example, wrap the ",(0,s.jsx)(t.code,{children:"<a>"})," with ",(0,s.jsx)(t.code,{children:"Tooltip"})," rather than putting ",(0,s.jsx)(t.code,{children:"Tooltip"})," inside the ",(0,s.jsx)(t.code,{children:"<a>"})," with a nested focusable wrapper."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"good-attach-tooltip-to-the-interactive-element",children:"Good: attach tooltip to the interactive element"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",children:'<Tooltip content="Open project on GitHub (opens in new tab)">\n  <a href="https://github.com/..." target="_blank" rel="noopener noreferrer">\n    GitHub\n  </a>\n</Tooltip>\n'})}),"\n",(0,s.jsx)(t.h3,{id:"bad-wrapping-the-interactive-element-inside-a-focusable-wrapper-creates-duplicate-focus-targets",children:"Bad: wrapping the interactive element inside a focusable wrapper (creates duplicate focus targets)"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",children:'/* avoid this */\n<a href="..." target="_blank" rel="noopener noreferrer">\n  <Tooltip content="...">\n    <span>GitHub</span> {/* the span might be focusable and compete with the link */}\n  </Tooltip>\n</a>\n'})}),"\n",(0,s.jsx)(t.h2,{id:"implementation-notes-what-the-component-does",children:"Implementation notes (what the component does)"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The component tries to attach ",(0,s.jsx)(t.code,{children:"data-tooltip-id"})," and ",(0,s.jsx)(t.code,{children:"data-tooltip-content"})," directly to the single React child you pass by cloning it.\nThis preserves semantics for ",(0,s.jsx)(t.code,{children:"<a>"}),", ",(0,s.jsx)(t.code,{children:"<button>"})," and ",(0,s.jsx)(t.code,{children:"<Link>"})," components and avoids double tab stops.\nIf ",(0,s.jsx)(t.code,{children:"children"})," is not a valid single element, the component renders a ",(0,s.jsx)(t.code,{children:"<span tabIndex={0}>"})," wrapper and attaches the attributes there."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"appendTo={document.body}"})," and ",(0,s.jsx)(t.code,{children:'positionStrategy="fixed"'})," - the tooltip is rendered as a portal to the document body so it sits above layout and isn\u2019t clipped by scroll/overflow."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"useId()"})," is used to generate a stable id at runtime; you can pass your own ",(0,s.jsx)(t.code,{children:"id"})," prop if you need deterministic IDs."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"dynamicPositioning"})," default ",(0,s.jsx)(t.code,{children:"true"})," provides fallback placements when the preferred placement doesn't fit. Set to ",(0,s.jsx)(t.code,{children:"false"})," to force a single placement."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"openOnFocus"})," is enabled so keyboard users can open the tooltip when the trigger element receives focus. Make sure the trigger element is focusable (native element or wrapper with ",(0,s.jsx)(t.code,{children:"tabIndex={0}"}),")."]}),"\n",(0,s.jsxs)(t.li,{children:["Styling & animations: ",(0,s.jsx)(t.code,{children:"react-tooltip"})," adds classes and may apply show/hide transitions. If you change global CSS or reset transitions you may affect tooltip visibility timing and tests."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",metastring:'title="Button (works out of the box)"',children:'<Tooltip content="Do the thing">\n  <button type="button">Action</button>\n</Tooltip>\n'})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",metastring:'title="Internal navigation (react-router Link)"',children:'<Tooltip content="Go to profile">\n  <Link to="/profile">Profile</Link>\n</Tooltip>\n'})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",metastring:'title="External link (attach tooltip to the <a> itself \u2014 target & rel recommended)"',children:'<Tooltip content="Open on GitHub (opens in a new tab)">\n  <a href="https://github.com/..." target="_blank" rel="noopener noreferrer">\n    GitHub\n  </a>\n</Tooltip>\n'})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",metastring:'title="Plain text / complex non-focusable nodes (gets wrapped in a focusable span)"',children:'<Tooltip content="Short hint">Some inline text or an icon-only element</Tooltip>\n'})}),"\n",(0,s.jsx)(t.h2,{id:"testing-tips",children:"Testing tips"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"react-tooltip"})," mounts the tooltip node into ",(0,s.jsx)(t.code,{children:"document.body"}),".\nIn the ",(0,s.jsx)(t.code,{children:"jsdom"})," environment ",(0,s.jsx)(t.code,{children:"screen"})," queries will still find it."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Portal timing & animations can make tests flaky.\nWrap assertions in ",(0,s.jsx)(t.code,{children:"await waitFor()"})," or use ",(0,s.jsx)(t.code,{children:"findBy*"})," queries which retry until the element appears. Example patterns:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="Hover"',children:"await user.hover(screen.getByText('Hover me'));\nexpect(await screen.findByText('Hello tooltip')).toBeVisible();\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="Focus"',children:"await user.tab();\nexpect(await screen.findByText('Hello tooltip')).toBeVisible();\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="Hide with waitFor to accommodate transition"',children:"await waitFor(() => expect(screen.queryByText('Hello tooltip')).not.toBeInTheDocument());\n"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["In tests prefer passing an actual element as ",(0,s.jsx)(t.code,{children:"children"})," (button, Link, or anchor)\nso the library attributes are attached directly and keyboard focus works reliably.\nIf you need to assert behavior for plain text triggers, test the wrapped ",(0,s.jsx)(t.code,{children:"<span>"})," behavior explicitly."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"If you see intermittent failures due to CSS transitions, disable transitions in your test setup\n(for example, add a small global CSS rule to turn off transitions during tests) - this makes timing deterministic."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"Tooltip"})," prefers to attach attributes directly to a single React child (preserves semantics for ",(0,s.jsx)(t.code,{children:"<a>"}),", ",(0,s.jsx)(t.code,{children:"<button>"}),", ",(0,s.jsx)(t.code,{children:"<Link>"}),")."]}),"\n",(0,s.jsxs)(t.li,{children:["If you pass non-element children, the component wraps them in a focusable ",(0,s.jsx)(t.code,{children:"<span>"})," so keyboard users can reveal the tooltip."]}),"\n",(0,s.jsxs)(t.li,{children:["For external links (anchors), wrap the anchor with ",(0,s.jsx)(t.code,{children:"Tooltip"})," (so tooltip attributes are attached to the anchor) -\ndo ",(0,s.jsx)(t.strong,{children:"not"})," make an extra focusable wrapper inside the anchor."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"openOnFocus"})," + focusable trigger = keyboard-accessible tooltip."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);